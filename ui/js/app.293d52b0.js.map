{"version":3,"file":"js/app.293d52b0.js","mappings":"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","sources":["webpack://music-player-vue/./src/store/music.js","webpack://music-player-vue/./src/views/Recent.vue","webpack://music-player-vue/./src/views/Recent.vue?d561","webpack://music-player-vue/./src/views/SongDetail.vue","webpack://music-player-vue/./src/views/SongDetail.vue?9e54","webpack://music-player-vue/./src/router/index.js","webpack://music-player-vue/./src/App.vue","webpack://music-player-vue/./src/App.vue?7ccd","webpack://music-player-vue/./src/main.js","webpack://music-player-vue/webpack/bootstrap","webpack://music-player-vue/webpack/runtime/chunk loaded","webpack://music-player-vue/webpack/runtime/compat get default export","webpack://music-player-vue/webpack/runtime/define property getters","webpack://music-player-vue/webpack/runtime/ensure chunk","webpack://music-player-vue/webpack/runtime/get javascript chunk filename","webpack://music-player-vue/webpack/runtime/get mini-css chunk filename","webpack://music-player-vue/webpack/runtime/global","webpack://music-player-vue/webpack/runtime/hasOwnProperty shorthand","webpack://music-player-vue/webpack/runtime/load script","webpack://music-player-vue/webpack/runtime/make namespace object","webpack://music-player-vue/webpack/runtime/publicPath","webpack://music-player-vue/webpack/runtime/css loading","webpack://music-player-vue/webpack/runtime/jsonp chunk loading","webpack://music-player-vue/webpack/startup"],"sourcesContent":["import { ref } from 'vue'\n\n// 默认图片配置\nconst defaultImages = {\n  notPlaying: 'https://pic1.imgdb.cn/item/67ba5000d0e0a243d4025664.png',\n  paused: 'https://pic1.imgdb.cn/item/67ba504dd0e0a243d4025680.png',\n  playing: 'https://pic1.imgdb.cn/item/67ba504dd0e0a243d4025680.jpg'\n}\n\nexport const currentMusic = ref({\n  id: '',\n  avatar: defaultImages.notPlaying,\n  name: '未播放',\n  singer: '',\n  album: '',\n  duration: '',\n  djTableId: ''\n})\n\nexport const isPlaying = ref(false)\nexport const isPaused = ref(false)\n\n// 更新播放状态和头像\nexport const updatePlayingState = (state) => {\n  isPlaying.value = state === 'playing'\n  isPaused.value = state === 'paused'\n  \n  if (currentMusic.value.id) { // 只有在有音乐时才改变头像\n    if (state === 'playing' && !currentMusic.value.avatar.includes('http')) {\n      currentMusic.value.avatar = defaultImages.playing\n    } else if (state === 'paused' && !currentMusic.value.avatar.includes('http')) {\n      currentMusic.value.avatar = defaultImages.paused\n    }\n  }\n}\n","<template>\n  <div class=\"recent-plays\">\n    <div class=\"header\">\n      <div class=\"title-section\">\n        <h2>最近播放</h2>\n        <span class=\"subtitle\">为你记录播放过的每一首歌</span>\n      </div>\n      <div class=\"filter-section\">\n        <n-select\n          v-model:value=\"timeFilter\"\n          :options=\"timeFilterOptions\"\n          size=\"small\"\n          style=\"width: 120px\"\n        />\n      </div>\n    </div>\n\n    <div class=\"music-list\" v-if=\"recentPlays.length > 0\">\n      <div \n        v-for=\"(song, index) in recentPlays\" \n        :key=\"index\" \n        class=\"music-item\"\n        :class=\"{ 'is-playing': currentPlayingId === `${song.dj_table_id}_${song.song_name}` }\"\n      >\n        <div class=\"item-index\">{{ index + 1 }}</div>\n        <div class=\"music-cover\" @click=\"playMusic(song)\">\n          <img :src=\"song.song_avatar || 'default_avatar.png'\" alt=\"cover\">\n          <div class=\"play-icon\">\n            <n-icon size=\"30\" color=\"#fff\">\n              <PlayCircle />\n            </n-icon>\n          </div>\n        </div>\n        <div class=\"music-info\">\n          <div class=\"song-title text-ellipsis\">{{ song.song_name }}</div>\n          <div class=\"song-details\">\n            <span class=\"artist text-ellipsis\">{{ song.song_artist }}</span>\n            <span class=\"album text-ellipsis\" v-if=\"song.song_album\">· {{ song.song_album }}</span>\n          </div>\n        </div>\n        <div class=\"play-info\">\n          <div class=\"play-time\">{{ formatPlayTime(song.played_at) }}</div>\n          <div class=\"duration\">{{ song.song_duration }}</div>\n        </div>\n        <div class=\"actions\">\n          <n-button \n            quaternary \n            circle \n            size=\"small\" \n            @click=\"playMusic(song)\"\n            :class=\"{ 'playing': currentPlayingId === `${song.dj_table_id}_${song.song_name}` }\"\n          >\n            <template #icon>\n              <n-icon>\n                <PlayCircle v-if=\"currentPlayingId !== `${song.dj_table_id}_${song.song_name}`\" />\n                <PauseCircle v-else />\n              </n-icon>\n            </template>\n          </n-button>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"empty-state\" v-else>\n      <n-empty description=\"还没有播放记录\">\n        <template #icon>\n          <n-icon size=\"40\" color=\"#666\">\n            <MusicNote />\n          </n-icon>\n        </template>\n      </n-empty>\n    </div>\n\n    <div class=\"pagination-wrapper\">\n      <div class=\"pagination-content\">\n        <div class=\"page-info\">\n          <span>{{ totalItems === 0 ? 0 : (page - 1) * pageSize + 1 }}-{{ Math.min(page * pageSize, totalItems) }}</span>\n          <span class=\"separator\">/</span>\n          <span>{{ totalItems }}</span>\n        </div>\n        <div class=\"page-controls\">\n          <n-button \n            quaternary \n            circle \n            size=\"small\"\n            :disabled=\"page === 1\"\n            @click=\"handlePageChange(page - 1)\"\n          >\n            <template #icon>\n              <n-icon><ChevronBack /></n-icon>\n            </template>\n          </n-button>\n          <span class=\"current-page\">{{ page }}</span>\n          <n-button \n            quaternary \n            circle \n            size=\"small\"\n            :disabled=\"page >= Math.ceil(totalItems/pageSize)\"\n            @click=\"handlePageChange(page + 1)\"\n          >\n            <template #icon>\n              <n-icon><ChevronForward /></n-icon>\n            </template>\n          </n-button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted, watch, nextTick, onUnmounted } from 'vue'\nimport { currentMusic } from '../store/music'\nimport { NIcon, NButton } from 'naive-ui'\nimport { PlayCircle, MusicNote, PauseCircle, ChevronBack, ChevronForward } from '@vicons/ionicons5'\n\nconst recentPlays = ref([])\nconst page = ref(1)\nconst pageSize = ref(6)\nconst totalItems = ref(0)\nconst timeFilter = ref('all')\nconst timeFilterOptions = [\n  { label: '全部时间', value: 'all' },\n  { label: '最近24小时', value: '24h' },\n  { label: '最近7天', value: '7d' },\n  { label: '最近30天', value: '30d' }\n]\n\n// 修改当前播放状态的跟踪方式\nconst currentPlayingId = ref(null)\n\nfunction formatPlayTime(timestamp) {\n  const date = new Date(timestamp)\n  const now = new Date()\n  const diff = now - date\n\n  if (diff < 60000) return '刚刚'\n  if (diff < 3600000) return `${Math.floor(diff / 60000)}分钟前`\n  if (diff < 86400000) return `${Math.floor(diff / 3600000)}小时前`\n  if (diff < 604800000) return `${Math.floor(diff / 86400000)}天前`\n  \n  return date.toLocaleDateString('zh-CN', {\n    month: '2-digit',\n    day: '2-digit',\n    hour: '2-digit',\n    minute: '2-digit'\n  })\n}\n\n// 修改播放音乐函数\nfunction playMusic(song) {\n  const musicInstanceId = `${song.dj_table_id}_${song.song_name}`\n  \n  // 确保使用最新的封面\n  if (song.song_id) {\n    fetch(`https://api.qijieya.cn/meting/?type=song&id=${song.song_id}`)\n      .then(response => response.json())\n      .then(songData => {\n        if (songData && songData.pic) {\n          // 使用获取到的新封面\n          playSongWithCover(song, musicInstanceId, songData.pic);\n        } else {\n          // 使用原有封面\n          playSongWithCover(song, musicInstanceId, song.song_avatar);\n        }\n      })\n      .catch(error => {\n        console.error('获取歌曲信息失败:', error);\n        playSongWithCover(song, musicInstanceId, song.song_avatar);\n      });\n  } else {\n    // 如果没有歌曲ID，使用原有封面\n    playSongWithCover(song, musicInstanceId, song.song_avatar);\n  }\n}\n\n// 使用指定封面播放歌曲\nfunction playSongWithCover(song, musicInstanceId, coverUrl) {\n  // If the song URL doesn't already use the new API format, update it\n  const songUrl = song.song_url && song.song_url.includes('api.qijieya.cn') \n    ? song.song_url \n    : (song.song_id ? `https://api.qijieya.cn/meting/?type=url&id=${song.song_id}` : song.song_url);\n  \n  fetch(`https://${GetParentResourceName()}/playMusic`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json; charset=UTF-8',\n    },\n    body: JSON.stringify({\n      url: songUrl,\n      name: song.song_name,\n      djTableId: song.dj_table_id,\n      artist: song.song_artist,\n      album: song.song_album,\n      duration: song.song_duration,\n      avatar: coverUrl\n    })\n  }).then(() => {\n    // 更新播放状态\n    currentPlayingId.value = musicInstanceId\n    // 更新底部播放器信息\n    currentMusic.value = {\n      name: song.song_name,\n      artist: song.song_artist,\n      album: song.song_album,\n      avatar: coverUrl,\n      url: songUrl,\n      duration: song.song_duration,\n      djTableId: song.dj_table_id,\n      isPlaying: true,\n      musicInstanceId: musicInstanceId,\n      id: song.song_id\n    }\n  })\n}\n\nfunction fetchRecentPlays() {\n  if (!currentMusic.value.djTableId) {\n    console.log(\"No DJ table ID available\")\n    return\n  }\n  \n  console.log(\"Fetching recent plays for DJ table:\", currentMusic.value.djTableId)\n  \n  fetch(`https://${GetParentResourceName()}/getRecentPlays`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json; charset=UTF-8',\n    },\n    body: JSON.stringify({\n      djTableId: currentMusic.value.djTableId,\n      page: page.value,\n      pageSize: pageSize.value,\n      timeFilter: timeFilter.value\n    })\n  })\n}\n\nfunction handlePageChange(currentPage) {\n  page.value = currentPage\n  fetchRecentPlays()\n}\n\nfunction handlePageSizeChange(size) {\n  pageSize.value = size\n  page.value = 1\n  fetchRecentPlays()\n}\n\n// 添加分页事件监听\nwatch([page, pageSize], () => {\n  fetchRecentPlays()\n})\n\n// 修改消息监听器\nwindow.addEventListener('message', function(event) {\n  if (event.data.action === 'updateRecentPlays') {\n    console.log(\"Received recent plays update:\", event.data.data)\n    recentPlays.value = event.data.data.items || []\n    totalItems.value = event.data.data.total || 0\n    \n    // 确保数据更新后重新渲染\n    nextTick(() => {\n      console.log(\"Recent plays updated:\", recentPlays.value)\n    })\n  } else if (event.data.action === 'musicStarted') {\n    // 更新播放状态\n    console.log(\"Music started:\", event.data.musicInfo)\n    currentPlayingId.value = event.data.musicInfo.id\n  } else if (event.data.action === 'trackEnded') {\n    // 清除播放状态\n    currentPlayingId.value = null\n    currentMusic.value.isPlaying = false\n  }\n})\n\n// 监听时间筛选变化\nwatch(timeFilter, () => {\n  page.value = 1\n  fetchRecentPlays()\n})\n\n// 监听DJ台变化\nwatch(() => currentMusic.value.djTableId, (newId, oldId) => {\n  console.log(\"DJ table changed:\", newId)\n  if (newId && newId !== oldId) {\n    page.value = 1\n    fetchRecentPlays()\n  }\n})\n\n// 添加自动刷新逻辑\nlet refreshInterval\nonMounted(() => {\n  if (currentMusic.value.djTableId) {\n    fetchRecentPlays()\n    // 每15秒自动刷新一次\n    refreshInterval = setInterval(fetchRecentPlays, 15000)\n  }\n})\n\nonUnmounted(() => {\n  if (refreshInterval) {\n    clearInterval(refreshInterval)\n  }\n})\n</script>\n\n<style scoped>\n/* 主容器 */\n.recent-plays {\n  /* height: 100%;\n  display: flex; */\n  flex-direction: column;\n  padding: 20px;\n  /* box-sizing: border-box; */\n  position: relative;\n  /* background: #1a1a1a; */\n}\n\n/* 头部区域 */\n.header {\n  flex: none; /* 防止头部被压缩 */\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 20px;\n}\n\n.title-section h2 {\n  margin: 0;\n  font-size: 28px;\n  font-weight: 600;\n  margin-bottom: 8px;\n}\n\n.subtitle {\n  color: #999;\n  font-size: 14px;\n}\n\n/* 列表区域 */\n.music-list {\n  flex: 1;\n  margin-top: 20px;\n  max-width: 100%;\n  overflow-y: auto;\n  margin-bottom: 20px;\n  padding-right: 4px;\n}\n\n/* 自定义滚动条样式 */\n.music-list::-webkit-scrollbar {\n  width: 4px;\n}\n\n.music-list::-webkit-scrollbar-track {\n  background: transparent;\n}\n\n.music-list::-webkit-scrollbar-thumb {\n  background: rgba(255, 255, 255, 0.1);\n  border-radius: 2px;\n}\n\n.music-list::-webkit-scrollbar-thumb:hover {\n  background: rgba(255, 255, 255, 0.2);\n}\n\n/* 隐藏默认滚动条 */\n.music-list {\n  scrollbar-width: none; /* Firefox */\n  -ms-overflow-style: none; /* IE and Edge */\n}\n\n.music-list::-webkit-scrollbar {\n  display: none; /* Chrome, Safari and Opera */\n}\n\n.music-item {\n  display: flex;\n  align-items: center;\n  padding: 12px;\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  border-radius: 8px;\n  margin-bottom: 12px;\n  transition: all 0.3s ease;\n  gap: 15px;\n  max-width: 100%;\n  background: rgba(0, 0, 0, 0.2);\n}\n\n.music-item:hover {\n  background: rgba(255, 255, 255, 0.05);\n  transform: translateX(5px);\n}\n\n.item-index {\n  flex: 0 0 30px;\n  text-align: center;\n  color: #888;\n}\n\n.music-cover {\n  flex: 0 0 40px;\n  width: 40px;\n  height: 40px;\n  position: relative;\n  cursor: pointer;\n  border-radius: 4px;\n  overflow: hidden;\n}\n\n.music-info {\n  flex: 1 1 auto;\n  min-width: 0;\n  overflow: hidden;\n  margin-right: 15px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n\n.song-title {\n  font-size: 14px;\n  color: #fff;\n  margin-bottom: 4px;\n  width: 100%;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.song-details {\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  font-size: 12px;\n  color: #888;\n  width: 100%;\n}\n\n.artist, .album {\n  flex: 0 1 auto;\n  min-width: 0;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.play-info {\n  flex: 0 0 80px;\n  text-align: right;\n  margin-right: 10px;\n}\n\n.play-time {\n  font-size: 12px;\n  color: #888;\n  margin-bottom: 4px;\n}\n\n.duration {\n  font-size: 12px;\n  color: #666;\n}\n\n.actions {\n  flex: 0 0 auto;\n  display: flex;\n  gap: 8px;\n}\n\n.actions .n-button {\n  background: rgba(255, 255, 255, 0.1);\n}\n\n.actions .n-button:hover {\n  background: rgba(255, 255, 255, 0.2);\n}\n\n.actions .n-button.playing {\n  color: #1dd1a1;\n}\n\n/* 分页器容器样式调整 */\n.pagination-wrapper {\n  position: relative;\n  margin-bottom: 80px;\n  background: rgba(18, 18, 18, 0.95);\n  border-top: 1px solid rgba(255, 255, 255, 0.1);\n  padding: 6px 0;\n}\n\n.pagination-content {\n  width: 100%;\n  max-width: 600px;\n  margin: 0 auto;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n}\n\n.page-info {\n  font-size: 12px;\n  color: rgba(255, 255, 255, 0.6);\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  min-width: 50px;\n  white-space: nowrap;\n}\n\n.page-controls {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  flex-wrap: nowrap;\n}\n\n.current-page {\n  font-size: 13px;\n  color: #fff;\n  min-width: 20px;\n  text-align: center;\n}\n\n:deep(.n-button) {\n  width: 24px;\n  height: 24px;\n  min-width: 24px;\n  padding: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: rgba(255, 255, 255, 0.7);\n  transition: all 0.2s ease;\n  background: rgba(255, 255, 255, 0.08) !important;\n  border-radius: 4px;\n}\n\n:deep(.n-button:not(:disabled):hover) {\n  color: #fff;\n  background: rgba(255, 255, 255, 0.15) !important;\n}\n\n:deep(.n-button:disabled) {\n  opacity: 0.3;\n  cursor: not-allowed;\n}\n\n/* 移动设备适配 */\n@media screen and (max-width: 480px) {\n  .pagination-content {\n    padding: 4px;\n    gap: 6px;\n  }\n  \n  .page-info {\n    font-size: 11px;\n    min-width: 45px;\n  }\n  \n  :deep(.n-button) {\n    width: 22px;\n    height: 22px;\n    min-width: 22px;\n  }\n  \n  .current-page {\n    min-width: 18px;\n    font-size: 12px;\n  }\n}\n\n/* 响应式调整 */\n@media screen and (max-height: 700px) {\n  .recent-plays {\n    padding-bottom: 100px;\n  }\n  \n  .pagination-wrapper {\n    bottom: 70px;\n  }\n  \n  .music-list {\n    margin-bottom: 50px;\n  }\n}\n\n.text-ellipsis {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n</style>\n","import script from \"./Recent.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Recent.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Recent.vue?vue&type=style&index=0&id=1314762e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1314762e\"]])\n\nexport default __exports__","<template>\n  <div class=\"song-detail\">\n    <div class=\"back-button\" @click=\"goBack\">\n      <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\n        <path d=\"M19 12H5\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\"/>\n        <path d=\"M12 19L5 12L12 5\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n      </svg>\n    </div>\n    <div class=\"song-container\">\n      <div class=\"cover-section\">\n        <div class=\"cover-wrapper\" :class=\"coverClasses\">\n          <img :src=\"currentMusic.avatar\" alt=\"album cover\" />\n        </div>\n      </div>\n      <div class=\"info-section\">\n        <h2>{{ currentMusic.name }}</h2>\n        <p>{{ getArtistName() }}</p>\n      </div>\n      <div class=\"lyric-container\" ref=\"lyricRef\">\n        <div class=\"lyric-wrapper\">\n          <div \n            class=\"lyric-content\"\n            :style=\"{ transform: `translateY(${translateY}px)` }\"\n          >\n            <template v-if=\"parsedLyrics.length > 0\">\n              <p \n                v-for=\"(lyric, index) in parsedLyrics\" \n                :key=\"index\"\n                :class=\"{ 'active': index === currentLyricIndex }\"\n              >\n                {{ lyric.text }}\n              </p>\n            </template>\n            <p v-else class=\"no-lyric\">暂无歌词</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted, watch, computed, onUnmounted } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { currentMusic, isPlaying, isPaused, audioElement } from '../store/music'\n\nconst router = useRouter()\nconst lyricRef = ref(null)\nconst currentTime = ref(0)\nconst currentLyricIndex = ref(0)\nconst translateY = ref(0)\nconst parsedLyrics = ref([])\n\nconst coverClasses = computed(() => ({\n  'is-playing': isPlaying.value,\n  'is-paused': isPaused.value\n}))\n\n// 解析歌词时间\nconst parseLyricTime = (timeStr) => {\n  const [min, sec] = timeStr.split(':')\n  const [seconds, milliseconds] = sec.split('.')\n  return parseInt(min) * 60 + parseInt(seconds) + (parseInt(milliseconds || 0) / 100)\n}\n\n// 解析歌词内容\nconst parseLyrics = (text) => {\n  if (!text) return []\n  \n  const lines = text.split('\\n')\n  const lyrics = []\n  \n  lines.forEach(line => {\n    // 匹配[xx:xx.xx]格式的时间戳\n    const timeRegex = /\\[(\\d{2}:\\d{2}(?:\\.\\d{2})?)\\]/g\n    const textContent = line.replace(timeRegex, '').trim()\n    \n    if (!textContent) return\n    \n    let match\n    while ((match = timeRegex.exec(line)) !== null) {\n      const time = parseLyricTime(match[1])\n      lyrics.push({ time, text: textContent })\n    }\n  })\n  \n  return lyrics.sort((a, b) => a.time - b.time)\n}\n\n// 获取歌词\nconst fetchLyrics = async () => {\n  if (!currentMusic.value?.id) return\n\n  try {\n    // 使用新的API获取歌曲详情\n    const response = await fetch(`https://api.qijieya.cn/meting/?type=song&id=${currentMusic.value.id}`)\n    const data = await response.json()\n    \n    if (data && data.lyric) {\n      parsedLyrics.value = parseLyrics(data.lyric)\n      console.log('获取到歌词:', parsedLyrics.value)\n\n      // 更新歌曲信息\n      if (data.title && data.author) {\n        currentMusic.value = {\n          ...currentMusic.value,\n          name: data.title,\n          singer: data.author,\n          avatar: data.pic || currentMusic.value.avatar,\n          ar: [{ name: data.author }]\n        }\n      }\n    } else {\n      console.log('未获取到歌词数据')\n      parsedLyrics.value = []\n      \n      // 如果未获取到歌词，尝试直接从URL获取歌词\n      if (currentMusic.value.lrc) {\n        const lrcResponse = await fetch(currentMusic.value.lrc)\n        const lrcText = await lrcResponse.text()\n        if (lrcText) {\n          parsedLyrics.value = parseLyrics(lrcText)\n          console.log('从URL获取到歌词:', parsedLyrics.value)\n        }\n      }\n    }\n  } catch (error) {\n    console.error('获取歌词失败:', error)\n    parsedLyrics.value = []\n  }\n}\n\n// 更新当前歌词\nconst updateLyric = () => {\n  if (!audioElement || !parsedLyrics.value.length) return\n  \n  const time = audioElement.currentTime\n  currentTime.value = time\n\n  // 查找当前时间对应的歌词\n  const index = parsedLyrics.value.reduce((prev, curr, idx) => {\n    if (curr.time <= time) return idx\n    return prev\n  }, 0)\n\n  if (currentLyricIndex.value !== index) {\n    currentLyricIndex.value = index\n    \n    // 计算滚动位置\n    const lineHeight = 32\n    const containerHeight = lyricRef.value?.clientHeight || 0\n    const targetY = -index * lineHeight + containerHeight / 2 - lineHeight / 2\n    \n    // 平滑滚动\n    translateY.value = targetY\n  }\n}\n\n// 监听播放时间更新\nwatch(() => currentMusic.value.id, () => {\n  fetchLyrics()\n  currentLyricIndex.value = 0\n  translateY.value = 0\n}, { immediate: true })\n\nonMounted(() => {\n  if (audioElement) {\n    audioElement.addEventListener('timeupdate', updateLyric)\n  }\n})\n\nonUnmounted(() => {\n  if (audioElement) {\n    audioElement.removeEventListener('timeupdate', updateLyric)\n  }\n})\n\nconst goBack = () => {\n  router.back()\n}\n\n// 获取艺术家名称\nconst getArtistName = () => {\n  if (currentMusic.value.ar && currentMusic.value.ar[0]) {\n    return currentMusic.value.ar[0].name\n  } else if (currentMusic.value.singer) {\n    return currentMusic.value.singer\n  } else if (currentMusic.value.artist) {\n    return currentMusic.value.artist\n  }\n  return '未知艺术家'\n}\n</script>\n\n<style scoped>\n.song-detail {\n  position: absolute;\n  top: 0;\n  left: 320px;\n  right: 0;\n  height: calc(100% - 118px);\n  background: #1a1a1a;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1;\n}\n\n.song-container {\n  width: 100%;\n  height: 100%;\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 10px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 10px;\n  color: #fff;\n}\n\n.cover-section {\n  margin-top: 0;\n  display: flex;\n  justify-content: center;\n  flex-shrink: 0;\n}\n\n.cover-wrapper {\n  width: 130px;\n  height: 130px;\n  border-radius: 50%;\n  overflow: hidden;\n  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);\n  border: 3px solid rgba(255, 255, 255, 0.1);\n  flex-shrink: 0;\n  transform-origin: center center;\n}\n\n.cover-wrapper.is-playing {\n  animation: rotate 20s linear infinite;\n  animation-play-state: running;\n}\n\n.cover-wrapper.is-paused {\n  animation: rotate 20s linear infinite;\n  animation-play-state: paused;\n}\n\n@keyframes rotate {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n.info-section {\n  text-align: center;\n  width: 100%;\n  flex-shrink: 0;\n  margin-top: -8px;\n}\n\n.info-section h2 {\n  font-size: 18px;\n  margin: 0 0 6px 0;\n  color: #fff;\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  padding: 0 20px;\n}\n\n.info-section p {\n  font-size: 14px;\n  color: rgba(255, 255, 255, 0.7);\n  margin: 0;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.lyric-container {\n  flex: 1;\n  width: 100%;\n  position: relative;\n  padding: 0 20px;\n  overflow: hidden;\n  min-height: 300px;\n  display: flex;\n  align-items: center;\n}\n\n.lyric-wrapper {\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  position: relative;\n  mask-image: linear-gradient(180deg, transparent 0%, #fff 25%, #fff 75%, transparent 100%);\n  -webkit-mask-image: linear-gradient(180deg, transparent 0%, #fff 25%, #fff 75%, transparent 100%);\n}\n\n.lyric-content {\n  position: absolute;\n  width: 100%;\n  text-align: center;\n  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  will-change: transform;\n}\n\n.lyric-content p {\n  height: 32px;\n  line-height: 32px;\n  padding: 0;\n  margin: 0;\n  font-size: 14px;\n  color: rgba(255, 255, 255, 0.5);\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  transform-origin: center center;\n}\n\n.lyric-content p.active {\n  color: #fff;\n  font-size: 16px;\n  font-weight: 500;\n  transform: scale(1.1);\n}\n\n.no-lyric {\n  color: rgba(255, 255, 255, 0.5);\n  font-size: 14px;\n  text-align: center;\n  padding: 20px 0;\n}\n\n.back-button {\n  position: absolute;\n  top: 20px;\n  left: 20px;\n  width: 24px;\n  height: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: rgba(255, 255, 255, 0.7);\n  cursor: pointer;\n  transition: color 0.3s ease;\n  z-index: 2;\n}\n\n.back-button:hover {\n  color: #fff;\n}\n\n.back-button svg {\n  width: 100%;\n  height: 100%;\n}\n\nimg {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n@media screen and (max-width: 768px) {\n  .song-detail {\n    left: 60px;\n  }\n\n  .song-container {\n    padding: 10px;\n  }\n\n  .cover-wrapper {\n    width: 120px;\n    height: 120px;\n  }\n\n  .info-section h2 {\n    font-size: 16px;\n  }\n\n  .info-section p {\n    font-size: 12px;\n  }\n\n  .lyric-content p {\n    height: 22px;\n    line-height: 22px;\n    font-size: 12px;\n  }\n\n  .lyric-content p.active {\n    font-size: 14px;\n  }\n}\n</style>\n","import script from \"./SongDetail.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SongDetail.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./SongDetail.vue?vue&type=style&index=0&id=7d3d6abf&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7d3d6abf\"]])\n\nexport default __exports__","import { createRouter, createWebHashHistory } from 'vue-router'\nimport Recent from '../views/Recent.vue'\nimport SongDetail from '../views/SongDetail.vue'\n\nconst routes = [\n  {\n    path: '/',\n    name: 'Home',\n    component: ()=>import('../views/Home.vue')\n  },\n  {\n    path: '/find',\n    name: 'find',\n    component: ()=>import('../views/DiscoveringMusic.vue')\n  },\n  {\n    path: '/recent',\n    name: 'Recent',\n    component: Recent\n  },\n  {\n    path: '/song/:id',\n    name: 'SongDetail',\n    component: SongDetail\n  },\n  {\n    path: '/playlist/:id',\n    name: 'PlaylistDetail',\n    component: () => import('../views/PlaylistDetail.vue')\n  }\n]\n\nconst router = createRouter({\n  history: createWebHashHistory(),\n  routes\n})\n\nexport default router\n","<template>\n  <n-card :bordered=\"false\" v-if=\"showPage\">\n    <n-grid :cols=\"10\" style=\"height: 50vh;\">\n      <n-gi :span=\"2\" class=\"nav-bar\">\n        <n-space vertical size=\"large\">\n          <n-space v-for=\"item in menuList\" :key=\"item.name\">\n            <n-avatar :src=\"item.avatar\" v-if=\"item.avatar\" />\n            <div class=\"title\" v-if=\"item.isTitle\">{{ item.name }}</div>\n            <n-space v-else>\n              <n-icon size=\"20\" color=\"#8f8f8f\" :component=\"item.icon\" />\n              <div class=\"nav-item\" @click=\"router.push(item.path)\">{{ item.name }}</div>\n            </n-space>\n          </n-space>\n        </n-space>\n      </n-gi>\n      <n-gi :span=\"8\">\n        <router-view />\n      </n-gi>\n    </n-grid>\n    <n-flex justify=\"space-between\" style=\"border-top: 1px solid white;padding: 1vh;\">\n      <n-space style=\"width: 15vw;\">\n        <div :class=\"['player-avatar', { 'rotating': true, 'playing': isPlaying }]\" @click=\"goToSongDetail\">\n          <n-avatar :size=\"45\" round :src=\"currentMusic.avatar\" id=\"avatar\" />\n        </div>\n        <div>\n          <div style=\"font-weight: bold;\">{{ currentMusic.name }}《{{ currentMusic.album }}》</div>\n          <div>{{ currentMusic.singer }}</div>\n        </div>\n      </n-space>\n      <n-space vertical style=\"width: 30vw;\" size=\"small\">\n        <n-space justify=\"center\">\n          <n-icon size=\"25\" color=\"#8f8f8f\" :component=\"PlaySkipBackSharp\" style=\"cursor: pointer;\" @click=\"playPrevious\" />\n          <div @click=\"togglePlay\" style=\"cursor: pointer;\">\n            <n-icon size=\"25\" color=\"silver\" :component=\"PlayCircleSharp\" v-if=\"!isPlaying\" />\n            <n-icon size=\"25\" color=\"silver\" :component=\"PauseCircleSharp\" v-if=\"isPlaying\" />\n          </div>\n          <n-icon size=\"25\" color=\"#8f8f8f\" :component=\"PlaySkipForwardSharp\" style=\"cursor: pointer;\" @click=\"playNext\" />\n        </n-space>\n        <div class=\"progress-container\">\n          <span class=\"time-text\">{{ formatTime(currentTime) }}</span>\n          <n-slider\n            v-model:value=\"currentTime\"\n            :step=\"1\"\n            :min=\"0\"\n            :max=\"duration\"\n            style=\"width: 20vw;\"\n            @update:value=\"handleProgressChange\"\n          />\n          <span class=\"time-text\">{{ formatTime(duration) }}</span>\n        </div>\n      </n-space>\n      <n-space style=\"width: 7vw;margin-top: 1.5vh;\" size=\"small\">\n        <n-icon \n          size=\"25\" \n          :color=\"volume > 0 ? '#8f8f8f' : '#FF3A3A'\" \n          :component=\"getVolumeIcon()\" \n          style=\"cursor: pointer;\"\n          @click=\"toggleMute\"\n        />\n        <n-slider \n          v-model:value=\"volume\" \n          :step=\"1\" \n          :min=\"0\"\n          :max=\"100\"\n          style=\"width: 4.5vw;margin-top: 0.3vh;\"\n          @update:value=\"handleVolumeChange\"\n        />\n      </n-space>\n    </n-flex>\n  </n-card>\n</template>\n\n<script setup>\nimport { Heart, MusicalNotes, Download, ReloadCircleSharp, PlaySkipBackSharp, PlaySkipForwardSharp, PauseCircleSharp, PlayCircleSharp, VolumeHigh, VolumeMedium, VolumeLow, VolumeOff } from '@vicons/ionicons5'\nimport router from './router'\nimport { ref, onMounted, onUnmounted, watch, computed } from 'vue'\nimport { currentMusic, isPlaying, isPaused, updatePlayingState } from './store/music'\n\nconst showPage = ref(false)// 这个是UI隐藏开关\nconst menuList = ref([\n  {\n    name: '哈抑云',\n    avatar: 'https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fsafe-img.xhscdn.com%2Fbw1%2Fb1e35348-43df-4b36-9de8-6d8492c65e2f%3FimageView2%2F2%2Fw%2F1080%2Fformat%2Fjpg&refer=http%3A%2F%2Fsafe-img.xhscdn.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1742712598&t=acbab8190ee8eed0fc5891429fbf27cc',\n    isTitle: true\n  },\n  {\n    name: '推荐',\n    icon: Heart,\n    path: '/'\n  },\n  {\n    name: '发现音乐',\n    icon: MusicalNotes,\n    path: '/find'\n  },\n  {\n    name: '我的音乐',\n    isTitle: true\n  },\n  {\n    name: '本地与下载',\n    icon: Download,\n    path: '/download'\n  },\n  {\n    name: '最近播放',\n    icon: ReloadCircleSharp,\n    path: '/recent'\n  }\n])\nconst volume = ref(100)\nconst isMuted = ref(false)\nconst previousVolume = ref(100)\nconst currentTime = ref(0)\nconst duration = ref(0)\nconst progressUpdateInterval = ref(null)\n\nfunction togglePlay() {\n  if (!currentMusic.value.name || !currentMusic.value.djTableId) {\n    console.error('No music is currently selected');\n    return;\n  }\n\n  const musicInstanceId = currentMusic.value.djTableId + \"_\" + currentMusic.value.name;\n  const action = isPlaying.value ? 'zanting' : 'bofang';\n  \n  console.log(`Sending ${action} request for music instance: ${musicInstanceId}`);\n  \n  fetch(`https://${GetParentResourceName()}/${action}`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json; charset=UTF-8',\n    },\n    body: JSON.stringify({\n      name: musicInstanceId\n    })\n  }).then(response => {\n    if (!response.ok) {\n      console.error(`Failed to ${action} music:`, response.statusText);\n    } else {\n      updatePlayingState(isPlaying.value ? 'paused' : 'playing')\n    }\n  }).catch(error => {\n    console.error(`Error during ${action} request:`, error);\n  });\n}\n\nfunction playPrevious() {\n  fetch(`https://${GetParentResourceName()}/playPrevious`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json; charset=UTF-8',\n    },\n    body: JSON.stringify({\n      currentId: currentMusic.value.id,\n      useApiFormat: true // 指示后端使用新的API格式\n    })\n  });\n}\n\nfunction playNext() {\n  fetch(`https://${GetParentResourceName()}/playNext`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json; charset=UTF-8',\n    },\n    body: JSON.stringify({\n      currentId: currentMusic.value.id,\n      useApiFormat: true // 指示后端使用新的API格式\n    })\n  });\n}\n\nfunction handleVolumeChange(newVolume) {\n  if (!currentMusic.value.name || !currentMusic.value.djTableId) {\n    console.error('No music is currently selected');\n    return;\n  }\n  \n  const musicInstanceId = `${currentMusic.value.djTableId}_${currentMusic.value.name}`;\n  \n  // 清除之前的延时\n  if (progressUpdateInterval.value) {\n    clearInterval(progressUpdateInterval.value);\n  }\n\n  // 使用延时来减少请求频率\n  progressUpdateInterval.value = setTimeout(() => {\n    console.log('Setting volume:', {\n      volume: newVolume,\n      musicInstanceId: musicInstanceId,\n      currentMusic: currentMusic.value,\n      djTableId: currentMusic.value.djTableId\n    });\n    \n    fetch(`https://${GetParentResourceName()}/setVolume`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json; charset=UTF-8',\n      },\n      body: JSON.stringify({\n        name: musicInstanceId,\n        volume: newVolume / 100,\n        djTableId: currentMusic.value.djTableId\n      })\n    }).then(response => {\n      if (!response.ok) {\n        console.error('Failed to set volume:', response.statusText);\n        volume.value = previousVolume.value;\n      } else {\n        previousVolume.value = newVolume;\n      }\n    }).catch(error => {\n      console.error('Error setting volume:', error);\n      volume.value = previousVolume.value;\n    });\n  }, 100); // 100ms 延时\n}\n\nfunction toggleMute() {\n  if (!currentMusic.value.name || !currentMusic.value.djTableId) {\n    console.error('No music is currently selected');\n    return;\n  }\n  \n  if (isMuted.value) {\n    // 取消静音\n    volume.value = previousVolume.value;\n    isMuted.value = false;\n  } else {\n    // 静音\n    previousVolume.value = volume.value;\n    volume.value = 0;\n    isMuted.value = true;\n  }\n  \n  handleVolumeChange(volume.value);\n}\n\n// 获取音量图标函数\nfunction getVolumeIcon() {\n  const currentVolume = volume.value;\n  if (currentVolume === 0) return VolumeOff;\n  if (currentVolume < 30) return VolumeLow;\n  if (currentVolume < 70) return VolumeMedium;\n  return VolumeHigh;\n}\n\n// 格式化时间的函数\nfunction formatTime(seconds) {\n  const mins = Math.floor(seconds / 60)\n  const secs = Math.floor(seconds % 60)\n  return `${mins}:${secs.toString().padStart(2, '0')}`\n}\n\n// 处理进度条变化\nfunction handleProgressChange(newTime) {\n  if (!currentMusic.value.name || !currentMusic.value.djTableId) return;\n  \n  const musicInstanceId = `${currentMusic.value.djTableId}_${currentMusic.value.name}`;\n  \n  fetch(`https://${GetParentResourceName()}/setMusicTime`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json; charset=UTF-8',\n    },\n    body: JSON.stringify({\n      name: musicInstanceId,\n      time: newTime\n    })\n  }).catch(error => {\n    console.error('Error setting music time:', error);\n  });\n}\n\n// 开始更新进度\nfunction startProgressUpdate() {\n  if (progressUpdateInterval.value) {\n    clearInterval(progressUpdateInterval.value);\n  }\n\n  progressUpdateInterval.value = setInterval(() => {\n    if (!currentMusic.value?.name || !currentMusic.value?.djTableId) return;\n    \n    const musicInstanceId = `${currentMusic.value.djTableId}_${currentMusic.value.name}`;\n    \n    fetch(`https://${GetParentResourceName()}/getCurrentTime`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json; charset=UTF-8',\n      },\n      body: JSON.stringify({\n        name: musicInstanceId\n      })\n    })\n    .then(response => response.json())\n    .then(data => {\n      currentTime.value = data.currentTime;\n      duration.value = data.duration;\n    })\n    .catch(error => {\n      console.error('Error getting current time:', error);\n    });\n  }, 1000);\n}\n\n// 停止更新进度\nfunction stopProgressUpdate() {\n  if (progressUpdateInterval.value) {\n    clearInterval(progressUpdateInterval.value);\n    progressUpdateInterval.value = null;\n  }\n}\n\n// 监听当前音乐变化\nwatch(() => currentMusic.value, (newMusic) => {\n  if (newMusic?.name && newMusic?.djTableId) {\n    startProgressUpdate();\n  } else {\n    stopProgressUpdate();\n  }\n}, { immediate: true });\n\n// 组件挂载时启动进度更新\nonMounted(() => {\n  if (currentMusic.value?.name && currentMusic.value?.djTableId) {\n    startProgressUpdate();\n  }\n});\n\n// 组件卸载时清理定时器\nonUnmounted(() => {\n  stopProgressUpdate();\n});\n\n// 监听音乐播放状态变化\nwatch(isPlaying, (newValue) => {\n  if (newValue) {\n    startProgressUpdate();\n  } else if (progressUpdateInterval.value) {\n    clearInterval(progressUpdateInterval.value);\n  }\n});\n\n// 跳转到歌曲详情页\nfunction goToSongDetail() {\n  if (currentMusic.value.id) {\n    router.push(`/song/${currentMusic.value.id}`)\n  }\n}\n\nwindow.addEventListener('message', function (event) {\n  switch (event.data.action) {\n    case 'openDJTable':\n      showPage.value = true;\n      currentMusic.value = {\n        ...currentMusic.value,\n        djTableId: event.data.djTableId\n      };\n      console.log('DJ Table opened with ID:', event.data.djTableId);\n      break;\n    case 'musicStarted':\n      isPlaying.value = true;\n      const musicInfo = event.data.musicInfo;\n      currentMusic.value = {\n        ...currentMusic.value,\n        name: musicInfo.name || '未知歌曲',\n        singer: musicInfo.artist || '未知歌手',\n        album: musicInfo.album || '',\n        duration: musicInfo.duration || '',\n        djTableId: musicInfo.djTableId,\n        avatar: musicInfo.avatar || currentMusic.value.avatar\n      };\n      duration.value = parseFloat(musicInfo.duration) || 0;\n      startProgressUpdate();\n      console.log('Music started:', currentMusic.value);\n      break;\n    case 'musicPaused':\n      isPlaying.value = false; \n      console.log('Music paused');\n      break;\n    case 'musicResumed':\n      isPlaying.value = true;\n      console.log('Music resumed');\n      break;\n    case 'timeUpdate':\n      currentTime.value = event.data.currentTime;\n      duration.value = event.data.duration;\n      break;\n    case 'trackEnded':\n      isPlaying.value = false;\n      currentTime.value = 0;\n      console.log('Track ended');\n      break;\n    case 'volumeUpdated':\n      if (event.data.name === `${currentMusic.value.djTableId}_${currentMusic.value.name}`) {\n        volume.value = event.data.volume;\n        console.log('Volume updated:', {\n          requestedVolume: event.data.volume,\n          name: event.data.name,\n          currentMusic: currentMusic.value\n        });\n      }\n      break;\n  }\n});\n\ndocument.addEventListener('keydown', function (event) {\n  if (event.key === 'Escape') {\n    fetch(`https://${GetParentResourceName()}/closeNui`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n    });\n    showPage.value = false\n  }\n});\n</script>\n\n<style scoped>\n.n-card {\n  width: 60vw;\n  height: 62vh;\n  border-radius: 2rem;\n  background-color: #2D2D2D;\n  margin: 10vw auto;\n  color: white;\n  padding: 0.5vh;\n  border: 1vh solid black;\n  box-sizing: border-box;\n}\n\n.n-grid {\n  height: 46vh;\n  box-sizing: border-box;\n  overflow: hidden;\n}\n\n.nav-bar {\n  border-right: 1px solid white;\n  user-select: none;\n}\n\n.title {\n  font-weight: bold;\n}\n\n.nav-item {\n  cursor: pointer;\n  line-height: 2.5vh;\n}\n\n.progress-container {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  width: 100%;\n}\n\n.time-text {\n  font-size: 12px;\n  color: #8f8f8f;\n  min-width: 40px;\n  text-align: center;\n}\n\n/* 播放器封面旋转动画 */\n@keyframes rotate {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n.player-avatar {\n  width: 45px;\n  height: 45px;\n  border-radius: 50%;\n  overflow: hidden;\n  flex-shrink: 0;\n  border: 2px solid rgba(255, 255, 255, 0.1);\n  box-sizing: border-box;\n  cursor: pointer;\n}\n\n.player-avatar img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n/* 添加旋转动画类 */\n.rotating {\n  animation: rotate 20s linear infinite;\n  animation-play-state: paused;\n}\n\n.rotating.playing {\n  animation-play-state: running;\n}\n</style>","import script from \"./App.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=34e08180&scoped=true&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-34e08180\"]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport native from 'naive-ui'\nimport ElementPlus from 'element-plus';\nimport 'element-plus/dist/index.css';\n\ncreateApp(App)\n  .use(router)\n  .use(native)\n  .use(ElementPlus)\n  .mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"js/\" + chunkId + \".\" + {\"418\":\"51133af7\",\"827\":\"40e82e8f\",\"866\":\"e613df6d\"}[chunkId] + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"css/\" + chunkId + \".\" + {\"418\":\"a8c31cf4\",\"827\":\"79431d02\",\"866\":\"f0960a99\"}[chunkId] + \".css\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var inProgress = {};\nvar dataWebpackPrefix = \"music-player-vue:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"\";","if (typeof document === \"undefined\") return;\nvar createStylesheet = function(chunkId, fullhref, oldTag, resolve, reject) {\n\tvar linkTag = document.createElement(\"link\");\n\n\tlinkTag.rel = \"stylesheet\";\n\tlinkTag.type = \"text/css\";\n\tif (__webpack_require__.nc) {\n\t\tlinkTag.nonce = __webpack_require__.nc;\n\t}\n\tvar onLinkComplete = function(event) {\n\t\t// avoid mem leaks.\n\t\tlinkTag.onerror = linkTag.onload = null;\n\t\tif (event.type === 'load') {\n\t\t\tresolve();\n\t\t} else {\n\t\t\tvar errorType = event && event.type;\n\t\t\tvar realHref = event && event.target && event.target.href || fullhref;\n\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + errorType + \": \" + realHref + \")\");\n\t\t\terr.name = \"ChunkLoadError\";\n\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n\t\t\terr.type = errorType;\n\t\t\terr.request = realHref;\n\t\t\tif (linkTag.parentNode) linkTag.parentNode.removeChild(linkTag)\n\t\t\treject(err);\n\t\t}\n\t}\n\tlinkTag.onerror = linkTag.onload = onLinkComplete;\n\tlinkTag.href = fullhref;\n\n\n\tif (oldTag) {\n\t\toldTag.parentNode.insertBefore(linkTag, oldTag.nextSibling);\n\t} else {\n\t\tdocument.head.appendChild(linkTag);\n\t}\n\treturn linkTag;\n};\nvar findStylesheet = function(href, fullhref) {\n\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n\tfor(var i = 0; i < existingLinkTags.length; i++) {\n\t\tvar tag = existingLinkTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return tag;\n\t}\n\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n\tfor(var i = 0; i < existingStyleTags.length; i++) {\n\t\tvar tag = existingStyleTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\");\n\t\tif(dataHref === href || dataHref === fullhref) return tag;\n\t}\n};\nvar loadStylesheet = function(chunkId) {\n\treturn new Promise(function(resolve, reject) {\n\t\tvar href = __webpack_require__.miniCssF(chunkId);\n\t\tvar fullhref = __webpack_require__.p + href;\n\t\tif(findStylesheet(href, fullhref)) return resolve();\n\t\tcreateStylesheet(chunkId, fullhref, null, resolve, reject);\n\t});\n}\n// object to store loaded CSS chunks\nvar installedCssChunks = {\n\t524: 0\n};\n\n__webpack_require__.f.miniCss = function(chunkId, promises) {\n\tvar cssChunks = {\"418\":1,\"827\":1,\"866\":1};\n\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n\t\tpromises.push(installedCssChunks[chunkId] = loadStylesheet(chunkId).then(function() {\n\t\t\tinstalledCssChunks[chunkId] = 0;\n\t\t}, function(e) {\n\t\t\tdelete installedCssChunks[chunkId];\n\t\t\tthrow e;\n\t\t}));\n\t}\n};\n\n// no hmr\n\n// no prefetching\n\n// no preloaded","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkmusic_player_vue\"] = self[\"webpackChunkmusic_player_vue\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(7698); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["defaultImages","notPlaying","paused","playing","currentMusic","ref","id","avatar","name","singer","album","duration","djTableId","isPlaying","isPaused","updatePlayingState","state","value","includes","recentPlays","page","pageSize","totalItems","timeFilter","timeFilterOptions","label","currentPlayingId","formatPlayTime","timestamp","date","Date","now","diff","Math","floor","toLocaleDateString","month","day","hour","minute","playMusic","song","musicInstanceId","dj_table_id","song_name","song_id","fetch","then","response","json","songData","pic","playSongWithCover","song_avatar","catch","error","console","coverUrl","songUrl","song_url","GetParentResourceName","method","headers","body","JSON","stringify","url","artist","song_artist","song_album","song_duration","fetchRecentPlays","log","handlePageChange","currentPage","refreshInterval","watch","window","addEventListener","event","data","action","items","total","nextTick","musicInfo","newId","oldId","onMounted","setInterval","onUnmounted","clearInterval","__exports__","router","useRouter","lyricRef","currentTime","currentLyricIndex","translateY","parsedLyrics","coverClasses","computed","parseLyricTime","timeStr","min","sec","split","seconds","milliseconds","parseInt","parseLyrics","text","lines","lyrics","forEach","line","timeRegex","textContent","replace","trim","match","exec","time","push","sort","a","b","fetchLyrics","async","lyric","title","author","ar","lrc","lrcResponse","lrcText","updateLyric","audioElement","length","index","reduce","prev","curr","idx","lineHeight","containerHeight","clientHeight","targetY","immediate","goBack","back","getArtistName","routes","path","component","Recent","SongDetail","createRouter","history","createWebHashHistory","showPage","menuList","isTitle","icon","Heart","MusicalNotes","Download","ReloadCircleSharp","volume","isMuted","previousVolume","progressUpdateInterval","togglePlay","ok","statusText","playPrevious","currentId","useApiFormat","playNext","handleVolumeChange","newVolume","setTimeout","toggleMute","getVolumeIcon","currentVolume","VolumeOff","VolumeLow","VolumeMedium","VolumeHigh","formatTime","mins","secs","toString","padStart","handleProgressChange","newTime","startProgressUpdate","stopProgressUpdate","goToSongDetail","newMusic","newValue","parseFloat","requestedVolume","document","key","createApp","App","use","native","ElementPlus","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","Object","keys","every","splice","r","n","getter","__esModule","d","definition","o","defineProperty","enumerable","get","f","e","chunkId","Promise","all","promises","u","miniCssF","g","globalThis","this","Function","obj","prop","prototype","hasOwnProperty","inProgress","dataWebpackPrefix","l","done","script","needAttach","scripts","getElementsByTagName","s","getAttribute","createElement","charset","timeout","nc","setAttribute","src","onScriptComplete","onerror","onload","clearTimeout","doneFns","parentNode","removeChild","bind","type","target","head","appendChild","Symbol","toStringTag","p","createStylesheet","fullhref","oldTag","resolve","reject","linkTag","rel","nonce","onLinkComplete","errorType","realHref","href","err","Error","code","request","insertBefore","nextSibling","findStylesheet","existingLinkTags","tag","dataHref","existingStyleTags","loadStylesheet","installedCssChunks","miniCss","cssChunks","installedChunks","installedChunkData","promise","loadingEnded","realSrc","message","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}